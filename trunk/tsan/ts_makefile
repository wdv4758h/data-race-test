CXX=g++
CXXFLAGS=-g -fno-exceptions -Wall
CXXOPT=-O2
LD=g++
LDFLAGS=
INCLUDES=-I.

all: ts_offline

ts_offline: ts_offline.o thread_sanitizer.o ts_util.o
	$(LD) $(LDFLAGS) -o $@ $^

HEADERS=thread_sanitizer.h ts_util.h

%.o: %.cc $(HEADERS)
	$(CXX) $(CXXFLAGS) $(CXXOPT) $(INCLUDES) -o $@ -c $<



clean:
	rm -v *.o
